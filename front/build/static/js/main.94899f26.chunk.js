(this.webpackJsonplaundryapp=this.webpackJsonplaundryapp||[]).push([[0],[,,,,,,,function(e,t,s){e.exports={form:"SignUpCustomerForm_form__HR3OO",error:"SignUpCustomerForm_error__3CD6u",control:"SignUpCustomerForm_control__2TBwh",actions:"SignUpCustomerForm_actions__27TDZ"}},,function(e,t,s){e.exports={form:"LaundryRequestForm_form__-Bhjx",error:"LaundryRequestForm_error__2Xq1J",textControl:"LaundryRequestForm_textControl__39e9E",checkBoxControl:"LaundryRequestForm_checkBoxControl__bPezt",actions:"LaundryRequestForm_actions__l5BM4"}},,function(e,t,s){e.exports={form:"CustomerDetailsForm_form__3wqGk",error:"CustomerDetailsForm_error__2BiXN",control:"CustomerDetailsForm_control__opoa3",actions:"CustomerDetailsForm_actions__1emt0"}},,,function(e,t,s){e.exports={form:"LoginForm_form__1c99a",error:"LoginForm_error__i9owo",control:"LoginForm_control__3T3Ps",actions:"LoginForm_actions__33BbP"}},,function(e,t,s){e.exports={header:"MainNavigation_header__pcWBd",logo:"MainNavigation_logo__3mTft",active:"MainNavigation_active__oN3Ka",logout:"MainNavigation_logout__3fhIF"}},,,function(e,t,s){e.exports={card:"Card_card__3_jzl"}},function(e,t,s){e.exports={main:"Layout_main__auk_r"}},,function(e,t,s){e.exports={actions:"LaundryCustomerConfirm_actions__283hK"}},,,,,,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},,,,,,function(e,t,s){},function(e,t,s){"use strict";s.r(t);var c=s(1),r=s(5),a=s.n(r),n=s(4),i=s(0);const l=Object(c.createContext)({userDetails:{},loginStatus:!1}),o=localStorage.getItem("loginSuccess");function d(e){const[t,s]=Object(c.useState)({}),[r,a]=Object(c.useState)(!1);const n=async e=>{const t=await fetch("/api/findUserDetails",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()};Object(c.useEffect)((()=>{if("true"===o){(async()=>{const e=localStorage.getItem("userType"),t={email:localStorage.getItem("email"),userType:e};s(await n(t)),a(!0)})()}}),[]);const d={userDetails:t,loginStatus:r,addUserDetailsHandler:function(e){for(const[c,r]of Object.entries(e))s({...t,[c]:r})},removeUserDetailsHandler:function(){s()},findUserDetails:n,setLoginStatus:function(e){a(e)},setUserDetails:function(e){s(e)}};return Object(i.jsx)(l.Provider,{value:d,children:e.children})}var j=l,u=(s(35),s(36),s(3)),h=s.p+"static/media/homeLandingLaundry.315cce71.jpg";var b=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Hamper Dash"}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12",children:Object(i.jsx)("p",{children:"Welcome to Hamper Dash!! We connect you to the best launderers around so you can save time and focus on what matters, instead of laundry chores. We offer registration as a laundry provider (to provide laundry services) on our platform, or as a laundry user (get your laundry cleaned)."})}),Object(i.jsxs)("div",{className:"col-12",children:[Object(i.jsx)("img",{style:{height:"100%",width:"100%",objectFit:"contain"},src:h,alt:"Nice and neat laundry room"}),"Picture from"," ",Object(i.jsx)("a",{href:"https://www.rd.com/wp-content/uploads/2021/09/GettyImages-1181334518-MLedit.jpg?resize=700,467",children:"rd.com"})]})]})]})};var m=function(){const e=Object(u.f)();return setTimeout((()=>{e("/")}),3e3),Object(i.jsx)("div",{children:Object(i.jsx)("p",{children:"Thanks! Redirecting to Home...."})})},p=s.p+"static/media/laundryUser.542ff844.jpg",O=s.p+"static/media/laundryProvider.941f55cc.jpg",x=s(19),v=s.n(x);var f=function(e){return Object(i.jsx)("div",{className:v.a.card,children:e.children})};var y=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Sign Up Page"}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-6 d-flex justify-content-center",children:Object(i.jsx)(n.b,{to:"/signUpProviders",children:Object(i.jsxs)(f,{children:[Object(i.jsx)("div",{className:"d-flex justify-content-center",children:Object(i.jsx)("h2",{children:"I am a laundry provider! I can wash!"})}),Object(i.jsx)("div",{className:"d-flex justify-content-center",children:Object(i.jsx)("img",{style:{height:"100%",width:"100%",objectFit:"contain"},src:O,alt:"Worker holding freshly cleaned towels at a laundry provider business"})}),Object(i.jsxs)("div",{children:["Picture from"," ",Object(i.jsx)("a",{href:"https://boltlaundry.com/wp-content/uploads/2021/01/Commercial-Laundry-Service-In-Knoxville-TN.jpg",children:"boltlaundry.com"})]})]})})}),Object(i.jsx)("div",{className:"col-6 ",children:Object(i.jsx)(n.b,{to:"/signUpCustomers",children:Object(i.jsxs)(f,{children:[Object(i.jsx)("div",{className:"d-flex justify-content-center",children:Object(i.jsx)("h2",{children:"I like my laundry clean and spotless!"})}),Object(i.jsx)("div",{className:"d-flex justify-content-center",children:Object(i.jsx)("img",{style:{height:"100%",width:"100%",objectFit:"contain"},src:p,alt:"Woman doing laundry with a smile"})}),Object(i.jsxs)("div",{children:["Picture from"," ",Object(i.jsx)("a",{href:"https://www.wash.com/wp-content/uploads/2019/04/woman-doing-laundry.jpg",children:"wash.com"})]})]})})})]})]})},g=s(14),C=s.n(g);var N=function(e){const[t,s]=Object(c.useState)(""),r=Object(u.f)(),a=Object(c.useRef)(),n=Object(c.useRef)(),l=Object(c.useContext)(j);return Object(i.jsx)(f,{children:Object(i.jsxs)("form",{className:C.a.form,onSubmit:async t=>{t.preventDefault();const c={email:a.current.value,password:n.current.value},i=await e.loginHandler(c);if(i.error)s(i.error);else{localStorage.setItem("email",i.email),localStorage.setItem("userType",i.userType),localStorage.setItem("loginSuccess",!0);(async()=>{const e=localStorage.getItem("userType"),t={email:localStorage.getItem("email"),userType:e};l.setUserDetails(await l.findUserDetails(t)),l.setLoginStatus(!0)})(),"customer"===i.userType?r("/CustomerRequestService"):r("/ProviderPage")}},children:[Object(i.jsxs)("div",{className:C.a.control,children:[Object(i.jsx)("label",{htmlFor:"email",children:"E-mail"}),Object(i.jsx)("input",{type:"email",placeholder:"email@email.com",required:!0,name:"email",ref:a})]}),Object(i.jsxs)("div",{className:C.a.control,children:[Object(i.jsx)("label",{htmlFor:"password",children:"Password"}),Object(i.jsx)("input",{type:"password",placeholder:"Password",required:!0,name:"password",ref:n})]}),Object(i.jsx)("div",{className:C.a.error,children:Object(i.jsx)("p",{children:t})}),Object(i.jsx)("div",{className:C.a.actions,children:Object(i.jsx)("button",{children:"Login"})})]})})};var D=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Login Page"}),Object(i.jsx)(N,{loginHandler:async function(e){const t=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()}})]})};s(37);var S=e=>{let{postProviderData:t}=e;const[s,r]=Object(c.useState)({userType:"provider",companyName:"",firstName:"",lastName:"",email:"",phoneNumber:"",address:"",city:"",state:"",zipCode:"",password:"",confirmPassword:""}),a=Object(c.useRef)(),n=e=>{const t=e.target.name;let c=e.target.value;if("phoneNumber"===e.target.name){const e=(""+a.current.value).replace(/\D/g,"").match(/^(1|)?(\d{3})(\d{3})(\d{4})$/);e&&(a.current.value=[e[2],"-",e[3],"-",e[4]].join("")),c=a.current.value}r({...s,[t]:c})};console.log(s);return Object(i.jsx)(f,{children:Object(i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(s)},children:[Object(i.jsx)("h2",{children:"Contact Info"}),Object(i.jsxs)("div",{className:"fullLengthIn",children:[Object(i.jsx)("label",{htmlFor:"companyName",children:"Company Name"}),Object(i.jsx)("input",{type:"text",name:"companyName",id:"companyName",placeholder:"Enter Company Name",value:s.companyName,onChange:n})]}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"inline",children:[Object(i.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(i.jsx)("input",{type:"text",name:"firstName",value:s.firstName,id:"firstName",placeholder:"Enter First Name",onChange:n})]}),Object(i.jsxs)("div",{className:"inline",children:[Object(i.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(i.jsx)("input",{type:"text",name:"lastName",value:s.lastName,id:"lastName",placeholder:"Enter Last Name",onChange:n})]})]}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"inline",children:[Object(i.jsx)("label",{htmlFor:"email",children:"Email"}),Object(i.jsx)("input",{type:"email",name:"email",placeholder:"Enter Email",onChange:n})]}),Object(i.jsxs)("div",{className:"inline",children:[Object(i.jsx)("label",{htmlFor:"phoneNumber",children:"Phone"}),Object(i.jsx)("input",{type:"tel",name:"phoneNumber",id:"phoneNumber",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",placeholder:"XXX-XXX-XXXX",onChange:n,ref:a})]})]}),Object(i.jsx)("h2",{children:"Address"}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"fullLengthIn",children:[Object(i.jsx)("label",{htmlFor:"address",children:"Address Line"}),Object(i.jsx)("input",{name:"address",id:"address1",type:"text",onChange:n})]}),Object(i.jsxs)("div",{className:"inline",children:[Object(i.jsx)("label",{htmlFor:"city",children:"City"}),Object(i.jsx)("input",{name:"city",id:"city",type:"text",onChange:n})]}),Object(i.jsxs)("div",{className:"inline",children:[Object(i.jsx)("label",{htmlFor:"state",children:"State"}),Object(i.jsx)("input",{name:"state",id:"state",type:"text",onChange:n})]}),Object(i.jsx)("div",{children:Object(i.jsx)("label",{htmlFor:"zipCode",children:"Zip Code"})}),Object(i.jsx)("input",{name:"zipCode",id:"zipCode",type:"number",onChange:n})]}),Object(i.jsx)("h2",{children:"Password"}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"inline",children:[Object(i.jsx)("label",{htmlFor:"password",children:"Password"}),Object(i.jsx)("input",{name:"password",id:"password",type:"password",onChange:n})]}),Object(i.jsxs)("div",{className:"inline",children:[Object(i.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(i.jsx)("input",{name:"confirmPassword",id:"confirmPassword",type:"password",onChange:n})]})]}),Object(i.jsx)("div",{className:"flex-parent jc-center",children:Object(i.jsx)("button",{type:"submit",children:"Create Account"})})]})})};var w=()=>{let e=Object(u.f)();return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Laundry Service Provider Sign Up"}),Object(i.jsx)(S,{postProviderData:async t=>{delete t.confirmPassword,fetch("api/createCustomer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),e("/")}})]})},R=s(7),q=s.n(R);var P=function(e){const[t,s]=Object(c.useState)(""),[r,a]=Object(c.useState)(""),n=Object(u.f)(),l=Object(c.useRef)(),o=Object(c.useRef)(),d=Object(c.useRef)(),j=Object(c.useRef)(),h=Object(c.useRef)(),b=Object(c.useRef)(),m=Object(c.useRef)(),p=Object(c.useRef)(),O=Object(c.useRef)(),x=Object(c.useRef)(),v=async e=>{const t=j.current.value,c=h.current.value;s(t!==c?"Passwords do not match!":"")};return Object(i.jsx)(f,{children:Object(i.jsxs)("form",{className:q.a.form,onSubmit:async t=>{t.preventDefault();const c=l.current.value,r=o.current.value,i=d.current.value,u=j.current.value,v=h.current.value,f=b.current.value,y=m.current.value,g=p.current.value,C=O.current.value,N=x.current.value;if(u===v){s("");const t={firstName:c,lastName:r,email:i,address:f,city:y,zipCode:g,state:C,phoneNumber:N,password:u,userType:"customer"};await e.createCustomerFetch(t)?(a(""),n("/redirectHome")):a("Email already registered please login!")}else s("Passwords do not match!")},children:[Object(i.jsxs)("div",{className:q.a.control,children:[Object(i.jsx)("label",{htmlFor:"firstname",children:"First Name"}),Object(i.jsx)("input",{type:"text",placeholder:"First Name",required:!0,name:"firstname",ref:l})]}),Object(i.jsxs)("div",{className:q.a.control,children:[Object(i.jsx)("label",{htmlFor:"lastname",children:"Last Name"}),Object(i.jsx)("input",{type:"text",placeholder:"Last Name",required:!0,name:"lastname",ref:o})]}),Object(i.jsxs)("div",{className:q.a.control,children:[Object(i.jsx)("label",{htmlFor:"email",children:"E-mail"}),Object(i.jsx)("input",{type:"email",placeholder:"email@email.com",required:!0,name:"email",ref:d,onChange:async t=>{const s=d.current.value;if(s.includes("@")&&s.includes(".")){const t=await e.findEmailFetch(s);a(null===t||void 0===t?"":"Email already registered please login!")}}})]}),Object(i.jsx)("div",{className:q.a.error,children:Object(i.jsx)("p",{children:r})}),Object(i.jsxs)("div",{className:q.a.control,children:[Object(i.jsx)("label",{htmlFor:"password",children:"Password"}),Object(i.jsx)("input",{type:"password",placeholder:"Password",required:!0,name:"password",ref:j,onChange:v})]}),Object(i.jsxs)("div",{className:q.a.control,children:[Object(i.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(i.jsx)("input",{type:"password",placeholder:"Re-enter Password",required:!0,name:"confirmPassword",ref:h,onChange:v})]}),Object(i.jsx)("div",{className:q.a.error,children:Object(i.jsx)("p",{children:t})}),Object(i.jsxs)("div",{className:q.a.control,children:[Object(i.jsx)("label",{htmlFor:"addreess",children:"City"}),Object(i.jsx)("input",{type:"text",placeholder:"123 Address Street",required:!0,name:"address",ref:b})]}),Object(i.jsxs)("div",{className:q.a.control,children:[Object(i.jsx)("label",{htmlFor:"city",children:"City"}),Object(i.jsx)("input",{type:"text",placeholder:"City Name",required:!0,name:"city",ref:m})]}),Object(i.jsxs)("div",{className:q.a.control,children:[Object(i.jsx)("label",{htmlFor:"zipCode",children:"Zip Code"}),Object(i.jsx)("input",{type:"text",pattern:"[0-9]{5}",placeholder:"Zip Code (eg. 12345)",required:!0,name:"zipCode",ref:p})]}),Object(i.jsxs)("div",{className:q.a.control,children:[Object(i.jsx)("label",{htmlFor:"state",children:"State"}),Object(i.jsx)("input",{type:"text",pattern:"(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])",placeholder:"State Abbreviation (eg. CA, NY, AZ, etc.)",required:!0,name:"state",ref:O})]}),Object(i.jsxs)("div",{className:q.a.control,children:[Object(i.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),Object(i.jsx)("input",{id:"phoneNumber",type:"tel",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",placeholder:"123-456-7890",required:!0,name:"phone",ref:x,onChange:async e=>{const t=(""+x.current.value).replace(/\D/g,"").match(/^(1|)?(\d{3})(\d{3})(\d{4})$/);t&&(x.current.value=[t[2],"-",t[3],"-",t[4]].join(""))}})]}),Object(i.jsx)("div",{className:q.a.actions,children:Object(i.jsx)("button",{children:"Create Account"})})]})})};var F=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Customers Sign Up Page"}),Object(i.jsx)(P,{createCustomerFetch:async function(e){const t=await fetch("/api/createCustomer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()},findEmailFetch:async function(e){const t=await fetch("/api/findEmailExists",{method:"POST",headers:{"Content-Type":"text/plain"},body:e});return await t.json()}})]})},_=s(16),E=s.n(_);var I=function(){const e=Object(u.f)(),t=Object(c.useContext)(j),s=s=>{localStorage.clear(),t.setLoginStatus(!1),e("/")};let r=[];return t.userDetails&&t.loginStatus?("customer"===t.userDetails.userType?(r.push(Object(i.jsx)("li",{children:Object(i.jsx)(n.b,{to:"/CustomerRequestService",children:"Request Laundry"})},"customerRequestService")),r.push(Object(i.jsx)("li",{children:Object(i.jsx)(n.b,{to:"/CustomerDetailsPage",children:"".concat(t.userDetails.firstName," ").concat(t.userDetails.lastName)})},"customerDetailsPage"))):(r.push(Object(i.jsx)("li",{children:Object(i.jsx)(n.b,{to:"/ProviderPage",children:"".concat(t.userDetails.companyName)})},"providerPage")),r.push(Object(i.jsx)("li",{children:Object(i.jsx)(n.b,{to:"/ProviderDetailsPage",children:"".concat(t.userDetails.firstName," ").concat(t.userDetails.lastName)})},"providerDetailsPage"))),r.push(Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:E.a.logout,onClick:s,type:"button",children:"Log out"})},"logout"))):r.push(Object(i.jsx)("li",{children:Object(i.jsx)(n.b,{to:"/Login",children:"Login"})},"login")),Object(i.jsxs)("header",{className:E.a.header,children:[Object(i.jsx)(n.b,{to:"/",children:Object(i.jsx)("div",{className:E.a.logo,children:"Hamper Dash"})}),Object(i.jsx)("nav",{"aria-label":"Navigation Bar",children:Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:Object(i.jsx)(n.b,{to:"/",children:"Home"})},"home"),Object(i.jsx)("li",{children:Object(i.jsx)(n.b,{to:"/SignUp",children:"Sign Up"})},"signup"),r]})})]})},T=s(20),k=s.n(T);var L=function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)(I,{}),Object(i.jsx)("main",{className:k.a.main,children:e.children})]})},A=s(11),M=s.n(A);var B=function(){const[e,t]=Object(c.useState)(!0),[s,r]=Object(c.useState)("Edit"),a=Object(c.useRef)(),n=Object(c.useRef)(),l=Object(c.useRef)(),o=Object(c.useRef)(),d=Object(c.useRef)(),u=Object(c.useRef)(),h=Object(c.useRef)(),b=Object(c.useContext)(j);return Object(i.jsx)(f,{children:Object(i.jsxs)("form",{className:M.a.form,onSubmit:c=>{c.preventDefault();const i=a.current.value,j=n.current.value,m=l.current.value,p=o.current.value,O=d.current.value,x=u.current.value,v=h.current.value;if(!e&&"Save"===s){const e={firstName:i,lastName:j,address:m,city:p,zipCode:O,state:x,phoneNumber:v,email:b.userDetails.email,userType:b.userDetails.userType};(async e=>{await fetch("/api/updateUserDetails",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})(e),b.setUserDetails({...b.userDetails,...e})}e?(t(!1),r("Save")):(t(!0),r("Edit"))},children:[Object(i.jsxs)("div",{className:M.a.control,children:[Object(i.jsx)("label",{htmlFor:"firstname",children:"First Name"}),Object(i.jsx)("input",{type:"text",placeholder:"First Name",required:!0,name:"firstname",defaultValue:b.userDetails.firstName,disabled:e,ref:a})]}),Object(i.jsxs)("div",{className:M.a.control,children:[Object(i.jsx)("label",{htmlFor:"lastname",children:"Last Name"}),Object(i.jsx)("input",{type:"text",placeholder:"Last Name",required:!0,name:"lastname",defaultValue:b.userDetails.lastName,disabled:e,ref:n})]}),Object(i.jsxs)("div",{className:M.a.control,children:[Object(i.jsx)("label",{htmlFor:"address",children:"Address"}),Object(i.jsx)("input",{type:"text",placeholder:"123 Address Street",required:!0,name:"address",defaultValue:b.userDetails.address,disabled:e,ref:l})]}),Object(i.jsxs)("div",{className:M.a.control,children:[Object(i.jsx)("label",{htmlFor:"city",children:"City"}),Object(i.jsx)("input",{type:"text",placeholder:"City Name",required:!0,name:"city",defaultValue:b.userDetails.city,disabled:e,ref:o})]}),Object(i.jsxs)("div",{className:M.a.control,children:[Object(i.jsx)("label",{htmlFor:"zipCode",children:"Zip Code"}),Object(i.jsx)("input",{type:"text",pattern:"[0-9]{5}",placeholder:"Zip Code (eg. 12345)",required:!0,name:"zipCode",defaultValue:b.userDetails.zipCode,disabled:e,ref:d})]}),Object(i.jsxs)("div",{className:M.a.control,children:[Object(i.jsx)("label",{htmlFor:"state",children:"State"}),Object(i.jsx)("input",{type:"text",pattern:"(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])",placeholder:"State Abbreviation (eg. CA, NY, AZ, etc.)",required:!0,name:"state",defaultValue:b.userDetails.state,disabled:e,ref:u})]}),Object(i.jsxs)("div",{className:M.a.control,children:[Object(i.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),Object(i.jsx)("input",{type:"tel",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",placeholder:"123-456-7890",required:!0,name:"phone",defaultValue:b.userDetails.phoneNumber,disabled:e,ref:h})]}),Object(i.jsx)("div",{className:M.a.actions,children:Object(i.jsx)("button",{children:s})})]})})};const H=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});var U=function(e){return Object(i.jsx)("div",{className:"mt-2",children:Object(i.jsx)(f,{children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("h1",{className:"d-flex justify-content-center",children:e.request.providerDetails.companyName}),Object(i.jsxs)("span",{className:"col-12",children:[Object(i.jsx)("strong",{children:"Date: "})," ",e.request.date]}),Object(i.jsxs)("span",{className:"col-6",children:[Object(i.jsx)("strong",{children:"Phone: "})," ",e.request.providerDetails.phoneNumber]}),Object(i.jsxs)("span",{className:"col-6",children:[Object(i.jsx)("strong",{children:"Email: "})," ",e.request.providerEmail]}),Object(i.jsxs)("span",{className:"col-6",children:[Object(i.jsx)("strong",{children:"Address: "})," ",e.request.providerDetails.address]}),Object(i.jsxs)("span",{className:"col-6",children:[Object(i.jsx)("strong",{children:"City: "})," ",e.request.providerDetails.city]}),Object(i.jsxs)("span",{className:"col-6",children:[Object(i.jsx)("strong",{children:"Provider Accepted: "})," ",e.request.providerAccepted.toString()]}),Object(i.jsxs)("span",{className:"col-6",children:[Object(i.jsx)("strong",{children:"Job Completed: "})," ",e.request.serviceComplete.toString()]}),Object(i.jsxs)("span",{className:"col-6",children:[Object(i.jsx)("strong",{children:"Total Cost: "}),H.format(e.request.totalCost)]})]})})})};let W="Loading...";var z=function(e){const t=Object(c.useContext)(j),[s,r]=Object(c.useState)([]),[a,n]=Object(c.useState)(!1);Object(c.useEffect)((()=>{(async()=>{if(void 0!==t.userDetails.email){const e=await(async e=>{const t=await fetch("/api/allCustomerLaundryRequest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()})({customerEmail:t.userDetails.email});e.sort(((e,t)=>Date.parse(t.date)-Date.parse(e.date)));let s=new Set;for(let t of e)s.add(t.providerEmail);s=Array.from(s);const c=await(async e=>{const t=await fetch("/api/findAllUserDetails",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()})({userType:"provider",email:s});e.forEach((e=>{for(let t of c)t.email===e.providerEmail&&(e.providerDetails=t)})),r(e)}})()}),[t.userDetails.email,a]);const l=[];for(let c of s)l.push(Object(i.jsx)(U,{request:c}));return W=s.length>0?"Refresh":"Loading...",Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:Object(i.jsx)("button",{onClick:function(){r([]),n(!a)},children:W})}),l]})};var J=function(){const e=Object(c.useContext)(j);return void 0!==e.userDetails?Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"".concat(e.userDetails.firstName," ").concat(e.userDetails.lastName)}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)(B,{})}),Object(i.jsxs)("div",{className:"col-6",children:[Object(i.jsxs)("h2",{children:[e.userDetails.firstName," ",e.userDetails.lastName," Laundry Requests"]}),Object(i.jsx)(z,{})]})]})]}):Object(i.jsx)("div",{children:Object(i.jsx)("h1",{children:"Customer Details Page"})})},K=s(9),V=s.n(K);var X=function(e){const t=Object(c.useRef)(),s=Object(c.useRef)(),r=Object(c.useRef)(),a=Object(c.useRef)(),n=Object(c.useRef)(),l=Object(c.useContext)(j),[o,d]=Object(c.useState)("Ready to Wash!"),[u,h]=Object(c.useState)(),[b,m]=Object(c.useState)(!1),[p,O]=Object(c.useState)(!1);return Object(i.jsx)(f,{children:Object(i.jsxs)("form",{className:V.a.form,onSubmit:async function(c){c.preventDefault();const i=t.current.value,o=s.current.checked,j=r.current.value,u=a.current.checked,b=n.current.value,m=new Date;if(Date.parse(b)<Date.parse(m))return void h("Date can not be in the past");h();const p={wash:i,dryClean:j,fold:o,delivery:u,date:b,state:l.userDetails.state};d("Loading..."),await e.laundryRequestFetch(p),d("Ready to Wash!")},children:[Object(i.jsx)("div",{className:V.a.checkBoxControl,children:Object(i.jsxs)("label",{htmlFor:"wash",children:["Laundry (per lbs.)",Object(i.jsx)("input",{type:"checkbox",name:"wash",onChange:function(){O(!p)}})]})}),p?Object(i.jsxs)("div",{className:V.a.textControl,children:[Object(i.jsx)("label",{htmlFor:"poundsOfLaundry",children:"Estimated lbs. of laundry"}),Object(i.jsx)("input",{type:"number",placeholder:"Estimated pounds",required:!0,name:"poundsOfLaundry",ref:t})]}):Object(i.jsx)("input",{type:"hidden",value:"",name:"poundsOfLaundry",ref:t}),Object(i.jsx)("div",{className:V.a.checkBoxControl,children:Object(i.jsxs)("label",{htmlFor:"dryClean",children:["Dry Clean? (per lbs.)",Object(i.jsx)("input",{type:"checkbox",name:"dryClean",onChange:function(){m(!b)}})]})}),b?Object(i.jsxs)("div",{className:V.a.textControl,children:[Object(i.jsx)("label",{htmlFor:"poundsOfDryClean",children:"Estimated lbs. of Dry Clean"}),Object(i.jsx)("input",{type:"number",placeholder:"Estimated pounds",required:!0,name:"poundsOfDryClean",ref:r})]}):Object(i.jsx)("input",{type:"hidden",value:"",name:"poundsOfDryClean",ref:r}),Object(i.jsx)("span",{className:V.a.checkBoxControl,children:Object(i.jsxs)("label",{htmlFor:"fold",children:["Folded",Object(i.jsx)("input",{type:"checkbox",name:"fold",ref:s})]})}),Object(i.jsx)("span",{className:V.a.checkBoxControl,children:Object(i.jsxs)("label",{htmlFor:"delivery",children:["Delivered",Object(i.jsx)("input",{type:"checkbox",name:"delivery",ref:a})]})}),Object(i.jsx)("div",{className:V.a.textControl,children:Object(i.jsxs)("label",{htmlFor:"date",children:["Date",Object(i.jsx)("input",{type:"text",required:!0,placeholder:"eg. 01/31/2021",name:"date",ref:n})]})}),Object(i.jsx)("div",{className:V.a.error,children:Object(i.jsx)("p",{children:u})}),Object(i.jsx)("div",{className:V.a.actions,children:Object(i.jsx)("button",{children:o})}),e.providerCards.length>0?Object(i.jsxs)("div",{className:V.a.checkBoxControl,children:[Object(i.jsx)("div",{children:"Sort By:"}),Object(i.jsx)("div",{children:Object(i.jsxs)("label",{htmlFor:"priceAsc",children:[Object(i.jsx)("input",{type:"radio",id:"priceLowHigh",name:"sort",onChange:e.setSortPriceLowHighFunc}),"Price Low-High"]})}),Object(i.jsx)("div",{children:Object(i.jsxs)("label",{htmlFor:"priceDesc",children:[Object(i.jsx)("input",{type:"radio",id:"priceHighLow",name:"sort",onChange:e.setSortPriceHighLowFunc}),"Price High-Low"]})}),Object(i.jsx)("div",{children:Object(i.jsxs)("label",{htmlFor:"distance",children:[Object(i.jsx)("input",{type:"radio",id:"distance",name:"sort",onChange:e.setSortDistanceFunc}),"Distance"]})})]}):void 0]})})},Y=s(27);function Z(){const e=Object(c.useRef)();return Object(c.useEffect)((()=>{console.log("ref",e.current);try{e.current.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.removeAttribute("aria-roledescription"),console.log("removing aria-roledescription",e.current)}catch(t){console.log("deleter failed, maybe the map wasn't ready?",t)}}),[]),Object(i.jsx)("div",{ref:e})}s(40).config();var G=function(e){const t=[];let s;s=e.providerCoordinates.length>0?{center:{lat:e.providerCoordinates[0].lat,lng:e.providerCoordinates[0].lng},zoom:11}:{center:{lat:37.423021,lng:-122.083739},zoom:11};const c=e=>Object(i.jsx)("div",{style:{color:"black",background:"red",padding:"5px",display:"inline-flex",textAlign:"center",alignItems:"center",justifyContent:"center",borderRadius:"100%"},children:e.index});return e.providerCoordinates.forEach(((e,s)=>{t.push(Object(i.jsx)(c,{index:"".concat(s+1),lat:e.lat,lng:e.lng}))})),Object(i.jsx)("div",{style:{height:"400px",width:"400px"},children:Object(i.jsxs)(Y.a,{bootstrapURLKeys:{key:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).GOOGLE_API_KEY},center:s.center,zoom:s.zoom,children:[t,Object(i.jsx)(Z,{})]})})},$=s(22),Q=s.n($);var ee=function(e){const t=Object(u.f)(),[s,r]=Object(c.useState)("Choose Provider!");let a,n,l,o,d,j,h={},b={};return""!==e.servicesRequested.wash&&(a=e.provider.serviceObjects.wash.price,n=parseFloat(e.servicesRequested.wash),b.wash={price:a,perPound:!0,poundsRequested:n}),""!==e.servicesRequested.dryClean&&(l=e.provider.serviceObjects.dryClean.price,o=parseFloat(e.servicesRequested.dryClean),b.dryClean={price:l,perPound:!0,poundsRequested:o}),e.servicesRequested.delivery&&(d=e.provider.serviceObjects.delivery.price,b.delivery={price:d,perPound:!1}),e.servicesRequested.fold&&(j=e.provider.serviceObjects.fold.price,b.fold={price:j,perPound:!1}),h.servicesRequested=b,h.totalCost=e.totalCost,h.serviceComplete=!1,h.date=e.servicesRequested.date,h.providerAccepted=!1,h.customerEmail=e.customer.email,h.providerEmail=e.provider.email,Object(i.jsx)("div",{className:"d-flex justify-content-end m-0",children:Object(i.jsx)("form",{className:Q.a.actions,onSubmit:async e=>{e.preventDefault(),(async e=>{await fetch("/api/laundryCustomerConfirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})(h),r("Pending"),t("/CustomerDetailsPage")},children:Object(i.jsx)("button",{children:s})})})};const te=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});var se=function(e){let{provider:t,servicesRequested:s,index:r,laundryCost:a,foldingCost:n,dryCleanCost:l,deliveryCost:o,totalCost:d,distance:u}=e;const h=Object(c.useContext)(j);return Object(i.jsx)("div",{className:"mt-2",children:Object(i.jsxs)(f,{children:[Object(i.jsxs)("div",{className:"row pt-4 ps-4",children:[Object(i.jsxs)("h2",{className:"d-flex justify-content-center",children:[r+1,") ",t.companyName]}),Object(i.jsx)("div",{className:"row",children:Object(i.jsxs)("span",{className:"col-12",children:[Object(i.jsx)("strong",{children:"Date: "})," ",s.date]})}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("span",{className:"col-12 mt-2",children:[Object(i.jsx)("strong",{children:"Email: "})," ",t.email]}),Object(i.jsxs)("span",{className:"col-12",children:[Object(i.jsx)("strong",{children:"Phone Number: "})," ",t.phoneNumber]}),Object(i.jsxs)("span",{className:"col-12 mt-2",children:[Object(i.jsx)("strong",{children:"Address: "})," ",t.address]}),Object(i.jsxs)("span",{className:"col-6",children:[Object(i.jsx)("strong",{children:"City: "})," ",t.city]}),Object(i.jsxs)("span",{className:"col-6",children:[Object(i.jsx)("strong",{children:"State: "})," ",t.state]}),Object(i.jsxs)("span",{className:"col-6",children:[Object(i.jsx)("strong",{children:"Zip Code: "})," ",t.zipCode]}),Object(i.jsxs)("span",{className:"col-6",children:[Object(i.jsx)("strong",{children:"Distance: "})," ",u]})]}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("span",{className:"col-6 mt-2",children:[Object(i.jsx)("strong",{children:"Laundry Cost: "}),te.format(a)]}),Object(i.jsxs)("span",{className:"col-6 mt-2",children:[Object(i.jsx)("strong",{children:"Dry Cleaning Cost: "}),te.format(l)]}),Object(i.jsxs)("span",{className:"col-6",children:[Object(i.jsx)("strong",{children:"Cost for Folding: "}),te.format(n)]}),Object(i.jsxs)("span",{className:"col-6",children:[Object(i.jsx)("strong",{children:"Cost for Delivery: "}),te.format(o)]})]}),Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("span",{className:"d-flex justify-content-end mt-2",children:Object(i.jsxs)("strong",{children:["Total Costs:",te.format(d)]})})})]}),Object(i.jsx)(ee,{provider:t,customer:h.userDetails,servicesRequested:s,totalCost:d})]})})};let ce=[],re={};var ae=function(){const e=Object(c.useContext)(j);let t=[],s=[],r=[];const[a,n]=Object(c.useState)(),[l,o]=Object(c.useState)(!1),[d,u]=Object(c.useState)(!1),[h,b]=Object(c.useState)(!1);function m(e,t){const s=e.lat*(Math.PI/180),c=t.lat*(Math.PI/180),r=c-s,a=t.lng-e.lng*(Math.PI/180);return(7917.6*Math.asin(Math.sqrt(Math.sin(r/2)*Math.sin(r/2)+Math.cos(s)*Math.cos(c)*Math.sin(a/2)*Math.sin(a/2)))).toFixed(2)}return ce.forEach(((t,c)=>{const a=re.wash?t.serviceObjects.wash.price*re.wash:0,n=re.dryClean?t.serviceObjects.dryClean.price*re.dryClean:0,l=re.fold?t.serviceObjects.fold.price:0,o=re.delivery?t.serviceObjects.delivery.price:0,d=a+n+l+o,j=m(t.geoCode.results[0].geometry.location,e.userDetails.geoCode.results[0].geometry.location);s.push([Object(i.jsx)(se,{index:c,provider:t,servicesRequested:re,laundryCost:a,dryCleanCost:n,foldingCost:l,deliveryCost:o,totalCost:d,distance:j},"provider-card-".concat(c)),d,j]),r.push(t.geoCode.results[0].geometry.location)})),l?s.sort(((e,t)=>e[1]-t[1])):d?s.sort(((e,t)=>t[1]-e[1])):h&&s.sort(((e,t)=>e[2]-t[2])),s.forEach((e=>{t.push(e[0])})),Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Request Laundry Service"}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-3",children:Object(i.jsx)(X,{laundryRequestFetch:async t=>{const s=await fetch("/api/laundryRequest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});ce=await s.json(),re=t;const c=e.userDetails.geoCode.results[0].geometry.location;ce.sort(((e,t)=>m(e.geoCode.results[0].geometry.location,c)-m(t.geoCode.results[0].geometry.location,c))),n(!a)},providerCards:s,setSortPriceLowHighFunc:function(){o(!0),u(!1),b(!1)},setSortPriceHighLowFunc:function(){o(!1),u(!0),b(!1)},setSortDistanceFunc:function(){o(!1),u(!1),b(!0)}})}),Object(i.jsx)("div",{className:"col-5",children:t.length>0?t:Object(i.jsx)("h2",{className:"d-flex h-100 align-items-center justify-content-center",children:"Go have fun! Let us do the chores! Request Today!!"})}),Object(i.jsx)("div",{className:"col-4",children:Object(i.jsx)(G,{providerCoordinates:r})})]})]})};var ne=e=>{let{serviceItem:t,modifyServiceDisplay:s,onServiceEdit:r,handlePromp:a,submitEdit:n,services:l,setDeleteID:o}=e,[d,j]=Object(c.useState)(new Set);Object(c.useEffect)((()=>{u()}),[]);const u=()=>{let e=new Set(["Wash","Dry Clean","Fold","Delivery"]);l.forEach((t=>{e.has(t.service)&&e.delete(t.service)})),j(e)},h=e=>{const s=e.target;let c;c="perPound"===s.name?"true"!==s.value:s.value,r(t.serviceID,s.name,c)};return Object(i.jsxs)("form",{className:"service",onSubmit:async e=>{e.preventDefault(),""!==t.service&&(s(t.serviceID,"showEdit"),t.showEdit=!1,await n(t))},children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{htmlFor:"service",children:Object(i.jsx)("span",{children:"Select Service:"})}),Object(i.jsx)("select",{name:"service",onChange:h,value:t.service,children:(()=>{let e=new Set;return e.add(Object(i.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select a service"})),t.service&&!d.has(t.service)&&e.add(Object(i.jsx)("option",{value:t.service,children:t.service})),d.forEach((t=>{e.add(Object(i.jsx)("option",{value:t,children:t}))})),e})()}),Object(i.jsx)("div",{className:"d-flex justify-content-center",children:(()=>{let e;return"Dry Clean"!==t.service&&"Wash"!==t.service||(e=t.perPound?Object(i.jsxs)("div",{className:"form-check form-switch",children:[Object(i.jsx)("input",{className:"form-check-input",type:"checkbox",name:"perPound",id:t.perPound?"flexSwitchCheckChecked":"flexSwitchCheckDefault",value:t.perPound,onChange:h,checked:!0}),Object(i.jsx)("label",{className:"form-check-label",htmlFor:t.perPound?"flexSwitchCheckChecked":"flexSwitchCheckDefault",children:"Charge per Pound?"})]}):Object(i.jsxs)("div",{className:"form-check form-switch",children:[Object(i.jsx)("input",{className:"form-check-input",type:"checkbox",name:"perPound",id:t.perPound?"flexSwitchCheckChecked":"flexSwitchCheckDefault",value:t.perPound,onChange:h}),Object(i.jsx)("label",{className:"form-check-label",htmlFor:t.perPound?"flexSwitchCheckChecked":"flexSwitchCheckDefault",children:"Charge per Pound?"})]})),e})()})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{htmlFor:"",children:"Fee:"}),Object(i.jsx)("input",{type:"number",step:"0.01",min:"0",max:"100",name:"price",placeholder:t.price,onChange:h})]}),Object(i.jsxs)("div",{className:"col-12 d-flex justify-content-center",children:[Object(i.jsx)("button",{type:"submit",value:"Save",className:"editBtn",children:"Save"}),Object(i.jsx)("button",{className:"deleteBtn",onClick:()=>{a(),o(t.serviceID)},children:"Delete"})]})]},t.serviceID)};s(43);var ie=e=>{let{serviceItem:t,modifyServiceDisplay:s,id:c}=e;const r=e=>{s(t.serviceID,"showDetails")};return Object(i.jsx)("span",{className:"col-4 d-flex justify-content-center align-items-center",children:t.showDetails?Object(i.jsx)("button",{id:c,onClick:r,className:"collapseBtn","aria-label":"Expand Service Button",children:"\u2212"}):Object(i.jsx)("button",{id:c,onClick:r,"aria-label":"Collapse Service Button",className:"collapseBtn",children:"+"})})};var le=e=>{let{serviceItem:t,modifyServiceDisplay:s,id:c,handlePromp:r,setServices:a,setDeleteID:n}=e;const l=Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-7 pl-0",children:Object(i.jsxs)("h4",{children:["Cost: $",Object(i.jsx)("span",{children:t.price})]})}),Object(i.jsx)("div",{className:"col-5 d-flex justify-content-end",children:t.perPound&&Object(i.jsx)("h4",{children:"Per lb."})})]}),Object(i.jsx)("div",{className:"row ",children:Object(i.jsxs)("div",{className:"col-12 d-flex justify-content-center",children:[Object(i.jsx)("button",{className:"editBtn",onClick:()=>{s(t.serviceID,"showEdit")},children:"Edit"}),Object(i.jsx)("button",{className:"deleteBtn",onClick:()=>{r(c),n(c)},children:"Delete"})]})})]});return Object(i.jsxs)("div",{className:"service row",children:[Object(i.jsx)("h3",{className:"serviceTitle col-8 pb-0",children:Object(i.jsx)("span",{children:t.service})}),Object(i.jsx)(ie,{serviceItem:t,modifyServiceDisplay:s,id:c}),t.showDetails&&l]},t.serviceID)},oe=s(47),de=s(48);const je=e=>{let{setShow:t,show:s,deleteService:c,deleteID:r,buttonModifiers:a,promptMessage:n,promptHeader:l}=e;const o=()=>t(!1);return Object(i.jsx)("div",{children:Object(i.jsxs)(oe.a,{show:s,onHide:o,backdrop:"static",keyboard:!1,"aria-labelledby":"Delete or reject item",children:[Object(i.jsx)(oe.a.Header,{closeButton:!0,children:Object(i.jsx)(oe.a.Title,{id:"Delete or reject item",children:l})}),Object(i.jsx)(oe.a.Body,{children:n}),Object(i.jsxs)(oe.a.Footer,{children:[Object(i.jsx)(de.a,{variant:"secondary",onClick:o,children:"No"}),Object(i.jsx)(de.a,{variant:"primary",onClick:async()=>{if(console.log("Confirm",c),console.log("ID TO DELETE",r),t(!1),void 0!==c)c(r);else{if(void 0===a)throw new Error("Not a function of ModalCheck");a(r,"serviceRejected")}},children:"Yes"})]})]})})};je.defaultProps={promptMessage:"Are you sure you want to delete this?",promptHeader:"Delete Confirmation"};var ue=je;var he=e=>{let{services:t,setServices:s,modifyServiceDisplay:c,onServiceEdit:r,show:a,setShow:n,deleteID:l,setDeleteID:o,whichModal:d,setWhichModal:j}=e;const u=()=>{j("deleteService"),n(!0)};console.log("Which Modal",d);const h=async e=>{let c=0;for(const s of t){if(s.serviceID===e){t.splice(c,1);for(let e=0;e<t.length;e++)t[e].serviceID=e;await m(t)}c+=1}s([...t])},b=async e=>{await m([...t,e])},m=async e=>{await fetch("/api/updateServices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:localStorage.email,services:e})})},p=t.map(((e,s)=>(console.log(e),e.showEdit?Object(i.jsx)(ne,{services:t,serviceItem:e,modifyServiceDisplay:c,onServiceEdit:r,handlePromp:u,submitEdit:b,setDeleteID:o},e.serviceID):Object(i.jsx)(le,{id:s,serviceItem:e,modifyServiceDisplay:c,handlePromp:u,setDeleteID:o},e.serviceID))));return Object(i.jsxs)("div",{children:[(()=>{let e;return"deleteService"===d&&(e=[Object(i.jsx)(ue,{show:a,setShow:n,deleteService:h,modifyServiceDisplay:c,deleteID:l},"M0")]),e})(),Object(i.jsx)("div",{children:p}),Object(i.jsx)("div",{children:Object(i.jsxs)("small",{children:[" Services Remaining: ",4-t.length]})}),Object(i.jsxs)("div",{className:"d-flex justify-content-center",children:[t.length<4&&Object(i.jsx)("button",{onClick:()=>{console.log("ID =>",t.length);const e={service:"",price:0,perPound:!1,serviceID:t.length,showDetails:!1,showEdit:!0};s([...t,e])},children:"Add Service"})," "]})]})};var be=e=>{let{request:t,setCustomerRequest:s,customersRequests:c,accpetedRequest:r,setAcceptRequest:a,setShow:n,deleteID:l,setDeleteID:o,buttonModifiers:d,handlePromp:j}=e;const u=async()=>{await d(t._id,"providerAccepted")},h=async()=>{j(),o(t._id)},b=async()=>{await d(t._id,"serviceComplete")};return Object(i.jsx)("div",{className:"row",children:t.providerAccepted?Object(i.jsx)("button",{className:"submitCompletedSrv",type:"button",onClick:b,children:"Service Complete"}):[Object(i.jsx)("div",{className:"col-6 p-1",children:Object(i.jsx)("button",{className:"acptRejBtn",type:"button",onClick:u,children:"Accept"})}),Object(i.jsx)("div",{className:"col-6 p-1",children:Object(i.jsx)("button",{className:"acptRejBtn",type:"button",onClick:h,id:"rejectBtn",children:"Reject"})})]})};var me=e=>{let{request:t,setCustomerRequest:s,customersRequests:c,accpetedRequest:r,setAcceptRequest:a,show:n,setShow:l,setDeleteID:o,buttonModifiers:d,setWhichModal:j}=e;const u=t.servicesRequested;return Object(i.jsx)("div",{className:"card col-4",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("h2",{className:"card-title",children:t.customerEmail}),Object(i.jsxs)("h3",{className:"card-subtitle mb-2 text-muted",children:["Requested: ",t.date]}),Object(i.jsx)("h3",{className:"card-subtitle mt-4",children:"Services Requested:"}),Object(i.jsx)("ul",{children:(()=>{let e=new Set;for(const t in u){const s=t.charAt(0).toUpperCase()+t.slice(1);u[t].perPound?e.add(Object(i.jsxs)("li",{children:[Object(i.jsx)("strong",{children:s}),": $",u[t].price," ","Per lb."]})):e.add(Object(i.jsx)("li",{children:Object(i.jsx)("strong",{children:s})}))}return e})()}),Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Total Cost:"})," $",t.totalCost]}),Object(i.jsx)(be,{request:t,show:n,setShow:l,setDeleteID:o,setCustomerRequest:s,customersRequests:c,accpetedRequest:r,setAcceptRequest:a,buttonModifiers:d,handlePromp:()=>{j("rejectCustomer"),l(!0)}})]})})};var pe=e=>{let{sortRequests:t,customersRequests:s,setCustomerRequest:c,accpetedRequest:r,setAcceptRequest:a,show:n,setShow:l,deleteID:o,setDeleteID:d,whichModal:j,setWhichModal:u}=e;const h=async(e,t)=>{console.log("toModify");let n=[];for(const c of s)c._id===e?(n.push({...c,[t]:!c[t]}),await b({...c,[t]:!c[t]}),await a(!r)):n.push(c);c([...n])},b=async e=>{await fetch("/api/updateCustomerRequest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};console.log("---\x3e",h);let m=s.map(((e,t)=>void 0!==e.serviceRejected||e.serviceComplete?null:Object(i.jsx)(me,{request:e,setCustomerRequest:c,customersRequests:s,accpetedRequest:r,setAcceptRequest:a,show:n,setShow:l,setDeleteID:d,buttonModifiers:h,whichModal:j,setWhichModal:u},e._id)));return Object(i.jsxs)("div",{className:"row",children:["rejectCustomer"===j&&Object(i.jsx)(ue,{show:n,setShow:l,deleteID:o,buttonModifiers:h,promptMessage:"Are you sure you want to reject this request?",promptHeader:"Reject Customer Request Confirmation"},"M1"),m]})};var Oe=e=>{let{customersRequests:t,setCustomerRequest:s,fetchCustomerRequest:r,sortRequests:a,accpetedRequest:n}=e,[l,o]=Object(c.useState)("showAll");console.log("Outside Render"),Object(c.useEffect)((()=>{d(),console.log("Inside Effect")}),[l,n]);const d=async()=>{console.log("Running Filter");let e=await r(localStorage.email);switch(l){case"needResponse":e=e.filter((e=>!1===e.providerAccepted&&void 0===e.serviceRejected));break;case"accepted":e=e.filter((e=>!1===e.serviceComplete&&!0===e.providerAccepted))}a(e),s([...e])};return Object(i.jsx)("div",{className:"col-8 d-flex justify-content-end",children:Object(i.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic radio toggle button group",onChange:async e=>{o(e.target.value)},children:[Object(i.jsx)("input",{type:"radio",className:"btn-check",name:"btnDisplay",value:"needResponse",id:"btnDisplay1",checked:"needResponse"===l,autoComplete:"off"}),Object(i.jsx)("label",{className:"btn btn-outline-dark",htmlFor:"btnDisplay1",children:"Need Response"}),Object(i.jsx)("input",{type:"radio",className:"btn-check",name:"btnDisplay",value:"accepted",id:"btnDisplay2",checked:"accepted"===l,autoComplete:"off"}),Object(i.jsx)("label",{className:"btn btn-outline-dark",htmlFor:"btnDisplay2",children:"Accepted"}),Object(i.jsx)("input",{type:"radio",className:"btn-check",name:"btnDisplay",id:"btnDisplay3",value:"showAll",checked:"showAll"===l,autoComplete:"off"}),Object(i.jsx)("label",{className:"btn btn-outline-dark",htmlFor:"btnDisplay3",children:"Show All"})]})})};var xe=e=>{let{setDisplayOptions:t,displayOptions:s,sortRequests:r,setCustomerRequest:a,customersRequests:n,setOrderDirection:l,orderDirection:o,fetchCustomerRequest:d,accpetedRequest:j,setAcceptRequest:u}=e;return Object(c.useEffect)((()=>{console.log(o),r(n),a([...n])}),[o]),Object(i.jsx)("div",{className:"row",children:Object(i.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light mb-2",children:[Object(i.jsx)("label",{className:"navbar-brand",htmlFor:"SelectHowtoSort",children:"Sort By:"}),Object(i.jsxs)("div",{className:"col-2.5",children:[Object(i.jsxs)("select",{title:"Sort by date or by total price",className:"form-control",id:"SelectHowtoSort",onChange:e=>{s.displayBy=e.target.value,t(s),r(n),a([...n])},children:[Object(i.jsx)("option",{name:"RequestDate","aria-label":"Sort By Date",value:"requestDate",children:"Date Requested"}),Object(i.jsx)("option",{name:"RequestDate","aria-label":"Sort By Cost",value:"totalCharge",children:"Total Cost"})]}),Object(i.jsx)("div",{onChange:async e=>{let t=e.target.value;t="true"===t,l(t),r(n),a([...n])},children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-6 p-0",children:[Object(i.jsx)("input",{type:"radio",value:!0,name:"sortBy","aria-label":"Ascending Order"}),Object(i.jsx)("label",{htmlFor:"sortBy",className:"sortRadio",children:"Ascend"})]}),Object(i.jsxs)("div",{className:"col-6 p-0",children:[Object(i.jsx)("input",{type:"radio",value:!1,name:"sortBy",checked:!o,"aria-label":"Descending Order"}),Object(i.jsx)("label",{htmlFor:"sortBy",className:"sortRadio",children:"Descend"})]})]})})]}),Object(i.jsx)(Oe,{customersRequests:n,setCustomerRequest:a,fetchCustomerRequest:d,sortRequests:r,accpetedRequest:j})]})})};var ve=()=>{const[e,t]=Object(c.useState)(!1),[s,r]=Object(c.useState)(),[a,n]=Object(c.useState)();let[l,o]=Object(c.useState)([]),[d,j]=Object(c.useState)([]),[u,h]=Object(c.useState)(!1),[b,m]=Object(c.useState)({displayBy:"requestDate"}),[p,O]=Object(c.useState)(!1);Object(c.useEffect)((()=>{let e;(async()=>{e=await f(localStorage.email),x(e),j(e)})(),(async()=>{let e=await v(localStorage.email);0===Object.keys(e).length&&(e=[]),o(e)})()}),[]);const x=e=>{switch(b.displayBy){case"requestDate":p?e.sort(((e,t)=>new Date(e.date)>new Date(t.date)?1:-1)):e.sort(((e,t)=>new Date(e.date)<new Date(t.date)?1:-1));break;case"totalCharge":p?e.sort(((e,t)=>e.totalCost>t.totalCost?1:-1)):e.sort(((e,t)=>e.totalCost<t.totalCost?1:-1));break;default:console.log("No Case")}},v=async e=>{const t=await fetch("/api/getServices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});return await t.json()},f=async e=>{const t={providerEmail:e},s=await fetch("/api/allCustomerLaundryRequest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await s.json()};return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Your Service Request Headquarters..."}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"serviceDetails col-3",children:[Object(i.jsx)("h2",{children:"Services By You:"}),Object(i.jsx)(he,{services:l,modifyServiceDisplay:(e,t,s)=>{console.log("To Modifiy",t);let c=l.map((c=>{let r;return r=c.serviceID===e&&void 0===s?{...c,[t]:!c[t]}:r={...c,[t]:c[s]},r}));o(c)},onServiceEdit:(e,t,s)=>{let c=l.map((c=>{let r;return r=c.serviceID===e?{...c,[t]:s}:c,r}));o(c)},setServices:o,show:e,setShow:t,deleteID:s,setDeleteID:r,whichModal:a,setWhichModal:n})]}),Object(i.jsxs)("div",{className:"col-8",id:"requestedServices",children:[Object(i.jsx)(xe,{setDisplayOptions:m,displayOptions:b,sortRequests:x,setCustomerRequest:j,customersRequests:d,orderDirection:p,setOrderDirection:O,fetchCustomerRequest:f,accpetedRequest:u}),Object(i.jsx)(pe,{sortRequests:x,customersRequests:d,setCustomerRequest:j,accpetedRequest:u,setAcceptRequest:h,show:e,setShow:t,deleteID:s,setDeleteID:r,whichModal:a,setWhichModal:n})]})]})]})})};var fe=()=>Object(i.jsx)("div",{children:"Coming Soon..."});var ye=function(){return Object(i.jsx)(L,{children:Object(i.jsxs)(u.c,{children:[Object(i.jsx)(u.a,{path:"/",element:Object(i.jsx)(b,{})}),Object(i.jsx)(u.a,{path:"/SignUp",element:Object(i.jsx)(y,{})}),Object(i.jsx)(u.a,{path:"/Login",element:Object(i.jsx)(D,{})}),Object(i.jsx)(u.a,{path:"/signUpProviders",element:Object(i.jsx)(w,{})}),Object(i.jsx)(u.a,{path:"/signUpCustomers",element:Object(i.jsx)(F,{})}),Object(i.jsx)(u.a,{path:"/CustomerDetailspage",element:Object(i.jsx)(J,{})}),Object(i.jsx)(u.a,{path:"/CustomerRequestService",element:Object(i.jsx)(ae,{})}),Object(i.jsx)(u.a,{path:"/ProviderPage",element:Object(i.jsx)(ve,{})}),Object(i.jsx)(u.a,{path:"/ProviderDetailspage",element:Object(i.jsx)(fe,{})}),Object(i.jsx)(u.a,{path:"/redirectHome",element:Object(i.jsx)(m,{})})]})})};a.a.render(Object(i.jsx)(d,{children:Object(i.jsx)(n.a,{children:Object(i.jsx)(ye,{})})}),document.getElementById("root"))}],[[44,1,2]]]);
//# sourceMappingURL=main.94899f26.chunk.js.map